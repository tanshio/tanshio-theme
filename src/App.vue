<template>
  <div id="app">
    <div class="menu">
      <router-link to="/">
      <h1 class="logo">
        <svg version="1.1"
        	 xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:a="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/"
        	 x="0px" y="0px" viewBox="0 0 557.8 175.1" style="enable-background:new 0 0 557.8 175.1;"
        	 xml:space="preserve">
        <defs>
        </defs>
        <g>
        	<path class="st0" d="M122.5,169V4.6c0-2.4,2-4.4,4.4-4.4H141c2.4,0,4.4,2,4.4,4.4V169c0,2.4-2,4.4-4.4,4.4h-14.2
        		C124.5,173.4,122.5,171.4,122.5,169z"/>
        	<path class="st0" d="M206.6,172.8h-33.9c-2.4,0-4.4-2-4.4-4.4v-14.2c0-2.4,2-4.4,4.4-4.4h33.9c2.4,0,4.4,2,4.4,4.4v14.2
        		C211,170.9,209,172.8,206.6,172.8z"/>
        	<path class="st0" d="M175.4,106.7h-41c-2.4,0-4.4-2-4.4-4.4V88.2c0-2.4,2-4.4,4.4-4.4h34.1c6.2,0,11.3,5.1,11.3,11.3v7.2
        		C179.8,104.7,177.8,106.7,175.4,106.7z"/>
        	<path class="st0" d="M156.9,161.5v-57.2c0-6.2,5.1-11.3,11.3-11.3h7.2c2.4,0,4.4,2,4.4,4.4v75.5h-11.6
        		C162,172.8,156.9,167.7,156.9,161.5z"/>
        </g>
        <path class="st0" d="M68.3,52.8H3.9c-2.2,0-3.9-1.8-3.9-3.9l0-15.1c0-2.2,1.8-3.9,3.9-3.9h64.4c2.2,0,3.9,1.8,3.9,3.9v15.1
        	C72.2,51.1,70.5,52.8,68.3,52.8z"/>
        <path class="st0" d="M15.8,169V4.6c0-2.4,2-4.4,4.4-4.4h14.2c2.4,0,4.4,2,4.4,4.4V169c0,2.4-2,4.4-4.4,4.4H20.2
        	C17.8,173.4,15.8,171.4,15.8,169z"/>
        <path class="st0" d="M95.2,98.3h-46c-2.4,0-4.4-2-4.4-4.4V79.7c0-2.4,2-4.4,4.4-4.4h46c2.4,0,4.4,2,4.4,4.4v14.2
        	C99.6,96.3,97.6,98.3,95.2,98.3z"/>
        <path class="st0" d="M95.2,173.4h-39c-6.2,0-11.3-5.1-11.3-11.3v-7.2c0-2.4,2-4.4,4.4-4.4h46c2.4,0,4.4,2,4.4,4.4V169
        	C99.6,171.4,97.6,173.4,95.2,173.4z"/>
        <path class="st0" d="M67.8,143.2v16.3c0,2.4-2,4.4-4.4,4.4H49.2c-2.4,0-4.4-2-4.4-4.4v-16.3c0-2.4,2-4.4,4.4-4.4h14.2
        	C65.8,138.8,67.8,140.8,67.8,143.2z"/>
        <g>
        	<path class="st0" d="M223.9,169V4.6c0-2.4,2-4.4,4.4-4.4h14.2c2.4,0,4.4,2,4.4,4.4V169c0,2.4-2,4.4-4.4,4.4h-14.2
        		C225.9,173.4,223.9,171.4,223.9,169z"/>
        	<path class="st0" d="M275,173.4h-44.7c-2.6,0-4.7-2.1-4.7-4.7v-13.4c0-2.6,2.1-4.7,4.7-4.7h57v10.6
        		C287.3,167.8,281.8,173.4,275,173.4z"/>
        	<path class="st0" d="M264.3,160.2v-19.5c0-1.5,1.2-2.7,2.7-2.7h17.4c1.5,0,2.7,1.2,2.7,2.7V163h-20.2
        		C265.6,163,264.3,161.7,264.3,160.2z"/>
        </g>
        <path class="st0" d="M377.5,49.6h-62.2c-2.1,0-3.9-1.7-3.9-3.9V30.5c0-2.1,1.7-3.9,3.9-3.9h62.2c2.1,0,3.9,1.7,3.9,3.9v15.2
        	C381.3,47.9,379.6,49.6,377.5,49.6z"/>
        <path class="st0" d="M334.9,170.8V2.8c0-1.6,1.3-2.8,2.8-2.8l15.7,0c2.4,0,4.4,2,4.4,4.4v152.2c0,9.4-7.7,17-17,17h-3.1
        	C336.2,173.6,334.9,172.3,334.9,170.8z"/>
        <path class="st0" d="M379.2,129.4l-38.4,0c-2,0-3.7-1.9-3.7-4.3v-14.4c0-2.3,1.7-4.3,3.7-4.3h37.3l1.7,18.5
        	C379.9,127.3,381.2,129.4,379.2,129.4z"/>
        <path class="st0" d="M348,106.5h-19.4c-17.6,0-31.9,14.3-31.9,31.9v7.6c0,15.2,12.4,27.7,27.7,27.7H343c5.5,0,10.1-4.5,10.1-10.1
        	v-52C353,108.7,350.8,106.5,348,106.5z M334.2,151.2c0,2.5-2,4.6-4.6,4.6h-6.4c-5.5,0-10-4.5-10-10v-6c0-6.3,5.1-11.3,11.3-11.3h7.8
        	c1,0,1.8,0.8,1.8,1.8V151.2z"/>
        <path class="st0" d="M390,47.4V28.9c0-1.2,1-2.2,2.2-2.2h18.5c1.2,0,2.2,1,2.2,2.2v18.5c0,1.2-1,2.2-2.2,2.2h-18.5
        	C391,49.6,390,48.6,390,47.4z"/>
        <path class="st0" d="M374.9,175.1l0-22.4l-0.1,0c0,0,4-0.4,7.5-2.5c3.6-2.1,5.1-4.9,5.1-9.5c0-4-0.9-6.9-2.6-8.6
        	c-2.5-2.4-7-2.8-8.5-2.8l0,0l-1.2-22.9c6.4,0,15-0.2,25,9.2c4.5,4.2,9.8,12,9.8,25C410,164.1,388.3,174.1,374.9,175.1z"/>
        <g>
        	<path class="st0" d="M469.2,19.4l3.8,7.4c-6,3.5-11,7.8-14.8,12.7c-3.9,5-5.8,9.8-5.8,14.5c0,3.3,0.8,5.7,2.5,7.4
        		c1.7,1.7,4.4,2.5,8,2.5c4,0,7.7-0.5,11-1.4l0.6,8.2c-3.6,0.7-7.5,1-11.6,1c-5.7,0-10.1-1.5-13.2-4.6c-3.2-3.1-4.8-7.2-4.8-12.4
        		c0-7,2.9-14.1,8.8-21.3c-1.3-4-2.1-8.5-2.5-13.5c-0.4-5-0.6-11.5-0.6-19.6h7.7c0,13.6,0.5,22.4,1.6,26.6
        		C462,24.7,465.1,22.2,469.2,19.4z M472.7,12.8l-3.9,2.6c-0.7-2.9-1.8-5.8-3.4-8.7l3.7-2.3C470.5,7.1,471.7,9.9,472.7,12.8z
        		 M471.9,3.9l3.6-2.5c1.7,3,2.9,5.8,3.8,8.3l-3.8,2.7C474.6,9.5,473.4,6.6,471.9,3.9z"/>
        	<path class="st0" d="M484.9,31.1c7.6-2.8,13.4-4.2,17.2-4.2c8.3,0,12.4,6.4,12.4,19.3c0,7.3-1.4,12.9-4.2,16.9
        		c-2.8,4-7.5,6.5-14.2,7.4l-2.6-6.9c5.5-0.5,9.3-2.1,11.2-4.6c1.9-2.5,2.9-6.6,2.9-12.2c0-8.6-2-13-6.1-13c-3.3,0-7.9,1.4-13.8,4.1
        		L484.9,31.1z"/>
        	<path class="st0" d="M555.8,62.4l0.6,8.2c-3.6,0.7-7.5,1-11.6,1c-5.7,0-10.1-1.5-13.2-4.6c-3.2-3.1-4.8-7.2-4.8-12.4
        		c0-7,2.9-14.1,8.8-21.3c-1.3-4-2.1-8.5-2.5-13.5c-0.4-5-0.6-11.5-0.6-19.6h7.7c0,13.6,0.5,22.4,1.6,26.6c2.2-2.1,5.3-4.6,9.4-7.4
        		l3.8,7.4c-6,3.5-11,7.8-14.8,12.7c-3.9,5-5.8,9.8-5.8,14.5c0,3.3,0.8,5.7,2.5,7.4c1.7,1.7,4.4,2.5,8,2.5
        		C548.8,63.8,552.4,63.3,555.8,62.4z"/>
        	<path class="st0" d="M481.2,160.1l-3.7,8c-0.6-1.3-1.1-2.2-1.4-2.7c-1.5,5.4-4.3,8.1-8.6,8.1c-2.8,0-5.1-1-6.7-3.1
        		c-1.6-2.1-2.4-4.9-2.4-8.4c0-3.3,0.8-6,2.4-8c1.6-2.1,3.7-3.1,6.4-3.1c1.3,0,2.5,0.2,3.7,0.5v-6.5c0-7-0.3-12-0.8-15
        		c-0.5-3-1.4-4.5-2.5-4.5c-2,0-5.5,5.6-10.3,16.6c-0.2,13.3-0.2,23.9-0.1,31.9h-7.2c0-6.1,0-11.3,0.1-15.5c-1.3,3.2-2,5.2-2.2,5.8
        		l-6.1-5.9c1.5-3.3,3.1-7.1,4.8-11.6c1.6-4.5,2.8-8,3.4-10.6l0.4-2l0.2-10.2c-1.4,0.3-3.4,0.8-6.2,1.4l-1.5-7.8
        		c1.8-0.3,4.3-0.7,7.8-1.3c0.1-4.1,0.1-8.9,0.1-14.4h7.2c-0.1,3.4-0.1,8.2-0.2,14.5l1.8,1.7c-0.9,2.7-1.5,5.2-2,7.5v1.8
        		c2-3.7,3.9-6.5,5.7-8.2c1.8-1.7,3.8-2.6,5.9-2.6c2.2,0,3.9,0.8,5.1,2.3c1.2,1.5,2.2,4.4,2.8,8.6c0.7,4.2,1,10.1,1,17.6
        		c0,4.3-0.1,7.8-0.3,10.6C479.1,157,480.2,158.6,481.2,160.1z M467.2,166.1c1,0,1.8-0.5,2.2-1.6c0.5-1.1,0.9-3,1.1-5.6
        		c-1.1-0.6-2.3-0.9-3.6-0.9c-1.4,0-2.2,1.3-2.2,4C464.7,164.7,465.5,166.1,467.2,166.1z"/>
        	<path class="st0" d="M486.3,132.8c7.6-2.8,13.4-4.2,17.2-4.2c8.3,0,12.4,6.4,12.4,19.3c0,7.3-1.4,12.9-4.2,16.9
        		c-2.8,4-7.5,6.5-14.2,7.4l-2.6-6.9c5.5-0.5,9.3-2.1,11.2-4.6c1.9-2.5,2.9-6.6,2.9-12.2c0-8.6-2-13-6.1-13c-3.3,0-7.9,1.4-13.8,4.1
        		L486.3,132.8z"/>
        	<path class="st0" d="M557.1,164.1l0.6,8.2c-3.6,0.7-7.5,1-11.6,1c-5.7,0-10.1-1.5-13.2-4.6c-3.2-3.1-4.8-7.2-4.8-12.4
        		c0-7,2.9-14.1,8.8-21.3c-1.3-4-2.1-8.5-2.5-13.5c-0.4-5-0.6-11.5-0.6-19.6h7.7c0,13.6,0.5,22.4,1.6,26.6c2.2-2.1,5.3-4.6,9.4-7.4
        		l3.8,7.4c-6,3.5-11,7.8-14.8,12.7c-3.9,5-5.8,9.8-5.8,14.5c0,3.3,0.8,5.7,2.5,7.4c1.7,1.7,4.4,2.5,8,2.5
        		C550.2,165.5,553.8,165,557.1,164.1z"/>
        </g>
        </svg>
      </h1>

      </router-link>

      <!-- <a href="http://localhost:8080/photoshop-cc-2015-guideguide">test</a> -->
      <!-- <select class="" name="test">
        <option v-for="tag in tags">{{tag.name}}</option>

      </select> -->

      <search></search>
      <ul class="list-car">
        <li class="list-cat" @mouseover="hover">
          <span>Category</span>
          <ul class="list-cat__child">
            <li>aaaa</li>
            <li>aaaa2</li>
          </ul>
        </li>
        <li class="list-tag">Tag</li>
        <!-- <li><router-link to="/">CONTACT</router-link></li> -->

        <!-- <li v-for="cat in categories">
          <router-link :to="{ name: 'categories', params: { slug: cat.slug }}">{{cat.name}}</router-link>
        </li>
        <li v-for="tag in tags">
          <router-link :to="{ name: 'tags', params: { slug: tag.slug }}">{{tag.name}}</router-link>
        </li> -->
      </ul>
      <list v-bind:lists="lists"></list>
    </div>


    <div class="main" v-bind:class="classObject">
      <transition name="fade">
        <router-view class="view"></router-view>
      </transition>
    </div>

  </div>
</template>

<script>

import Button from './components/modules/Button.vue'
import API from './settings/API.js'

export default {
  components: {
    'btn': Button
  },
  computed: {
    lists() {
      return this.$store.state.list
    },
    test() {
      return this.$store.state.test
    },
    categories() {
      return this.$store.state.categories
    },
    tags() {
      return this.$store.state.tags
    },
    classObject() {
      let obj = {}
      obj[this.$route.name] = true
      return obj

    }
  },
  methods: {
    hover() {
      console.log("hover")
    }
  },
  data () {
    return {
      msg: 'Hello Vue 2.0!aaaa',

    }
  },

  mounted(){

    console.log("app.vue")

    // var test1 = this.$http.get(
    //   API.CATEGORIES,
    // ).then((response) => {
    //   this.$store.state.categories = response['body']
    // })

    async function test(that){

        await Promise.all([
          that.$http.get(
            API.CATEGORIES,
          ).then((response) => {
            that.$store.state.categories = response['body']
            console.log("cat")
          }),
          that.$http.get(
            API.TAGS,
            {
              params:{ per_page:100}
            }
          ).then((response) => {
            that.$store.state.tags = response['body']
            console.log("tag")
          })
        ])

        console.log("async終わり")
    }

    test(this).then(()=>{
        // 全てresolveが呼ばれた場合、この関数が実行される
        console.log("全部成功したよ！");
    }).catch(()=>{
        // 途中1回でもreject関数が呼ばれた場合、この関数が実行される
        console.log("途中で失敗したみたい…");
    });


  },

}
</script>

<style>

@import "/node_modules/normalize.css/normalize.css";

* {
  box-sizing: border-box;
}
body {
  font-family: Helvetica, sans-serif;
  margin: 0;
  background-color: #fff;
}

.menu {
  width: 100%;
  padding: 0 2rem;
  position: fixed;
  top:0;
  left:0;
  height: 100vh;
  /*background: -webkit-linear-gradient(-62deg, rgb(193, 177, 179) 0%, rgb(210, 192, 189) 50%, rgb(169, 123, 129) 100%) rgb(175, 149, 145);*/
  background: -webkit-linear-gradient(-62deg, rgb(169, 123, 129) 0%, rgb(210, 192, 189) 75%, rgb(193, 177, 179) 100%) rgb(175, 149, 145);
  overflow-y: auto;
  backface-visibility: hidden;
  -webkit-overflow-scrolling: touch;
  @media screen and (min-width: 780px) {
    display: block;
    min-width: 300px;
    max-width: 300px;
    background: -webkit-linear-gradient(-62deg, rgb(169, 123, 129) 0%, rgb(210, 192, 189) 50%, rgb(193, 177, 179) 100%) rgb(175, 149, 145);
  }
  @media screen and (min-width: 1980px) {
    min-width: 500px;
    max-width: 500px;
  }

}

.menu h1.logo {
  backface-visibility: hidden;
  text-align: center;
/* background-blend-mode: screen; */
  padding: 20px;
  margin: 0;
  -webkit-filter: drop-shadow(2px 1px 1px #9a7b7b);
}

.menu a {
  text-decoration: none;
}

.menu h1 svg {
  height: auto;
  width: 147px;
}

.menu h1 svg path {
  /*fill: #fff;*/
  fill:#c3adae;
}

ul li{
  font-family: "futura-pt",sans-serif
}



img {
  max-width: 100%;
  vertical-align: bottom;
}

#app {

  display: block;

  @media screen and (min-width: 780px) {
    display: flex;
    flex-direction: row;
  }

}

.main {
  display: block;
  width:100%;
  background: #fff;
  /*display: none;*/
  position: fixed;
  z-index: 9999;
  top:0;
  left: 0;
  height: 100%;
  /*overflow-y: auto;
  -webkit-overflow-scrolling: touch;*/
  backface-visibility: hidden;
  /*padding: 2rem;*/
  @media screen and (min-width: 780px) {
    width: calc(100% - 300px);
    margin-left: 300px;
    /*position:static;*/
    display: block;
  }

  @media screen and (min-width: 1980px) {
    width: calc(100% - 500px);
    margin-left: 500px;
  }

  &.home {
    visibility: hidden;

    /*transform: translateX(100%);*/
    /*transform: scale(.4);
    opacity: 0;
    box-shadow: 0 0 85px #AA7D83;
    transition: transform .5s cubic-bezier(0.08, 0.32, 0.41, 1.01),opacity .5s cubic-bezier(0.08, 0.32, 0.41, 1.01);
    @media screen and (min-width: 780px) {
      transform: none;
      box-shadow: none;
      display:block;
    }*/
  }

  &.post {
    /*transform: translateX(0);*/
    /*transform: scale(1);
    opacity: 1;
    box-shadow: 0 0 85px #AA7D83;
    transition: transform .5s cubic-bezier(0.08, 0.32, 0.41, 1.01),opacity .5s cubic-bezier(0.08, 0.32, 0.41, 1.01);
    @media screen and (min-width: 780px) {
      transform: none;
      box-shadow: none;
      display:block;
    }*/
  }
}



.view {
  display: block;
  width: 100%;
  height: 100%;
  overflow: auto;
  -webkit-overflow-scrolling: touch;

  @media screen and (min-width: 1200px) {
    display: flex;
    width: 100%;
  }

}

.topic {
  width: 100%;
  padding: 2rem;
  background-color: #ece8e8;
  @media screen and (min-width: 780px) {
    padding: 3rem;
  }
  @media screen and (min-width: 1200px) {
    width: 50%;
  }
}

.content {
  width: 100%;
  padding: 2rem;
  @media screen and (min-width: 780px) {
    padding: 3rem;
  }
  @media screen and (min-width: 1200px) {
    width: 50%;
    height: 100%;
    overflow-y: scroll;
  }
}

h1 {
  /*word-break: break-all;*/
}

pre {
  overflow: scroll;
}

.list-cat {
  /*background: #ab7e83;*/
  background: #adb0d2;
  position: relative;

  &:hover {
    .list-cat__child {
      visibility: visible;
    }
  }
}

.list-cat__child {
  position: absolute;
  visibility: hidden;
}

.list-tag {
  /*background: #c2b2b3;*/
  background: #c2b2b3;
}

.list-car {
  list-style-type: none;
  margin: 0;
  padding: 0;
  display: flex;
  margin-bottom: 3rem;
  li {
    position: relative;
    flex: 1;
    text-align: center;
    margin-right: 0;
    padding: .8em;
    /*background: #fff;*/
    color: #fff;
    font-size: .8rem;
    &:first-of-type {
      margin-right: 1rem
    }
    &:after {
      /*content:"-";*/

    }
  }
  /*li {
    display: inline-block;
    line-height: 0;
    margin-right: .25em;
    font-size: .85rem;
    padding: .5em .25em;


    a {
      color: #fff;
      border: 1px solid #fff;
      display: block;
      padding: 1em .5em;
      text-decoration: none;
    }
  }*/
}

/*.fade-enter-active, .fade-leave-active {
  transition: opacity .5s
}
.fade-enter, .fade-leave-active {
  opacity: 0
}*/
</style>
